---
layout: post
title: 'LDAP屬性gecos使用中文字串'
date: 2010-11-26
wordpress_id: 84
permalink: /blogs/84
comments: true
---
<p>主因是schema中定義</p>
<blockquote>
{% codeblock %}attributetype ( 1.3.6.1.1.1.1.2 NAME 'gecos'
        DESC 'The GECOS field; the common name'
        EQUALITY caseIgnoreIA5Match
        SUBSTR caseIgnoreIA5SubstringsMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 SINGLE-VALUE ){% endcodeblock %}
</blockquote>
<p>只要改成<!--more--></p>
<blockquote>
{% codeblock %}attributetype ( 1.3.6.1.1.1.1.2 NAME 'gecos'
        DESC 'The GECOS field; the common name'
        EQUALITY caseIgnoreMatch
        SUBSTR caseIgnoreSubstringsMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 SINGLE-VALUE ){% endcodeblock %}
</blockquote>
<p>就可以了。</p>
<p>依照<a href="http://www.ietf.org/rfc/rfc2252.txt" target="_blank">RFC 2252</a>原本的gecos定義1.3.6.1.4.1.1466.115.121.1.26是IA5 String，改成1.3.6.1.4.1.1466.115.121.1.15的Directory String。</p>
<p>RFC中6.10. Directory String提到Directory String是使用UTF-8編碼的字串。但是6.15. IA5 String指出IA5 String只能使用字串本身的編碼，也就是ASCII 0-127。可參考維基上的<a href="http://en.wikipedia.org/wiki/IA5STRING" target="_blank">IA5STRING</a>。</p>
