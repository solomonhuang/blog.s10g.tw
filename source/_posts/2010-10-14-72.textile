---
layout: post
title: 'CentOS 5 下設定 SVN / Trac (一)'
date: 2010-10-14
wordpress_id: 72
permalink: /blogs/72
comments: true
---
在CentOS 5.5的環境下，使用官方套件及easy_install安裝Subversion/Trac server。不使用第三方打包的套件庫。

建置系統目標：
<ul>
	<li>使用HTTP WEBDAV的方式來提供SVN做主要連線方式。</li>
	<li>使用者帳號使用SVN本身的管理，透過APACHE的認證方式來處理帳號權限。</li>
	<li>可管理使用多個不同的檔案庫。</li>
</ul>
<!--more-->

目錄及檔案規畫：
<ul>
	<li>Subversion檔案庫目錄：/svn/repos</li>
	<li>專案一及專案二的目錄：/svn/repos/proj01、/svn/repos/proj02</li>
	<li>Subversion與Trac共用的帳號密碼：/svn/svn-auth-file</li>
	<li>Trac根目錄：/trac</li>
</ul>
安裝套件：
<ul>
	<li>httpd</li>
	<li>subversion</li>
	<li>mod_dav_svn</li>
	<li>python</li>
	<li>python-setuptools</li>
</ul>
設定Subversion

編輯<span style="color: #ff0000;"><strong>/etc/httpd/conf.d/subversion.conf</strong></span>
{% codeblock %}&lt;Location /svn&gt;
  DAV svn
  SVNParentPath /svn/repos
  AuthType Basic
  AuthName "Subversion repository"
  AuthUserFile /svn/svn-auth-file
  Require valid-user
&lt;Location&gt;{% endcodeblock %}
建立SVN目錄
{% codeblock %}# mkdir -p /svn/repos{% endcodeblock %}
建立SVN/TRAC帳號
{% codeblock %}# touch /svn/svn-auth-file
# htpasswd -b /svn/svn-auth-file admin adminpassword
# htpasswd -b /svn/svn-auth-file user01 user01password
# htpasswd -b /svn/svn-auth-file user02 user02password{% endcodeblock %}
建立SVN檔案庫
{% codeblock %}# svnadmin create proj01{% endcodeblock %}
變更目錄權限，提供httpd讀寫的權限
{% codeblock %}# chown apache:apache /svn -R{% endcodeblock %}
設定啟動httpd
{% codeblock %}# chkconfig httpd on
# service httpd start{% endcodeblock %}
停用防火牆與SELinux或是正確地設定
{% codeblock %}# system-config-securitylevel{% endcodeblock %}
使用瀏覽器開啟<span style="color: #ff0000;"><strong>http://&lt;server ip address&gt;/svn/proj01</strong></span>可以看到檔案庫內容就是成功了。

設定Trac的部分就等下一篇文章。
